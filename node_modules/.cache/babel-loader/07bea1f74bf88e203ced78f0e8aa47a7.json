{"ast":null,"code":"class MeanCalc {\n  constructor(count) {\n    this.metrics = [];\n    this.count = count;\n  }\n\n  inspect() {\n    return this.val();\n  }\n\n  add(value) {\n    if (this.metrics.length >= this.count) {\n      this.metrics.shift();\n    }\n\n    this.metrics.push(value);\n  }\n\n  val() {\n    if (this.metrics.length == 0) return 0;\n    let sum = this.metrics.reduce((prev, curr) => curr += prev);\n    return Math.floor(sum / this.metrics.length * 1000) / 1000;\n  }\n\n}\n\nmodule.exports = MeanCalc;","map":{"version":3,"sources":["/Users/samianki/node_modules/pm2/lib/Sysinfo/MeanCalc.js"],"names":["MeanCalc","constructor","count","metrics","inspect","val","add","value","length","shift","push","sum","reduce","prev","curr","Math","floor","module","exports"],"mappings":"AACA,MAAMA,QAAN,CAAe;AACbC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKD,KAAL,GAAaA,KAAb;AACD;;AAEDE,EAAAA,OAAO,GAAG;AACR,WAAO,KAAKC,GAAL,EAAP;AACD;;AAEDC,EAAAA,GAAG,CAACC,KAAD,EAAQ;AACT,QAAI,KAAKJ,OAAL,CAAaK,MAAb,IAAuB,KAAKN,KAAhC,EAAuC;AACrC,WAAKC,OAAL,CAAaM,KAAb;AACD;;AACD,SAAKN,OAAL,CAAaO,IAAb,CAAkBH,KAAlB;AACD;;AAEDF,EAAAA,GAAG,GAAG;AACJ,QAAI,KAAKF,OAAL,CAAaK,MAAb,IAAuB,CAA3B,EAA8B,OAAO,CAAP;AAC9B,QAAIG,GAAG,GAAG,KAAKR,OAAL,CAAaS,MAAb,CAAoB,CAACC,IAAD,EAAOC,IAAP,KAAgBA,IAAI,IAAID,IAA5C,CAAV;AACA,WAAOE,IAAI,CAACC,KAAL,CAAYL,GAAG,GAAG,KAAKR,OAAL,CAAaK,MAApB,GAA8B,IAAzC,IAAiD,IAAxD;AACD;;AArBY;;AAwBfS,MAAM,CAACC,OAAP,GAAiBlB,QAAjB","sourcesContent":["\nclass MeanCalc {\n  constructor(count) {\n    this.metrics = []\n    this.count = count\n  }\n\n  inspect() {\n    return this.val()\n  }\n\n  add(value) {\n    if (this.metrics.length >= this.count) {\n      this.metrics.shift()\n    }\n    this.metrics.push(value)\n  }\n\n  val() {\n    if (this.metrics.length == 0) return 0\n    let sum = this.metrics.reduce((prev, curr) => curr += prev)\n    return Math.floor((sum / this.metrics.length) * 1000) / 1000\n  }\n}\n\nmodule.exports = MeanCalc\n"]},"metadata":{},"sourceType":"script"}