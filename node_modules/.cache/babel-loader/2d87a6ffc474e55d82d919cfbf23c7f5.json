{"ast":null,"code":"'use strict';\n\nconst unique = arr => arr.filter((v, i) => arr.lastIndexOf(v) === i);\n\nconst compact = arr => unique(arr).filter(Boolean);\n\nmodule.exports = (action, data = {}, value = '') => {\n  let {\n    past = [],\n    present = ''\n  } = data;\n  let rest, prev;\n\n  switch (action) {\n    case 'prev':\n    case 'undo':\n      rest = past.slice(0, past.length - 1);\n      prev = past[past.length - 1] || '';\n      return {\n        past: compact([value, ...rest]),\n        present: prev\n      };\n\n    case 'next':\n    case 'redo':\n      rest = past.slice(1);\n      prev = past[0] || '';\n      return {\n        past: compact([...rest, value]),\n        present: prev\n      };\n\n    case 'save':\n      return {\n        past: compact([...past, value]),\n        present: ''\n      };\n\n    case 'remove':\n      prev = compact(past.filter(v => v !== value));\n      present = '';\n\n      if (prev.length) {\n        present = prev.pop();\n      }\n\n      return {\n        past: prev,\n        present\n      };\n\n    default:\n      {\n        throw new Error(`Invalid action: \"${action}\"`);\n      }\n  }\n};","map":{"version":3,"sources":["/Users/samianki/node_modules/enquirer/lib/completer.js"],"names":["unique","arr","filter","v","i","lastIndexOf","compact","Boolean","module","exports","action","data","value","past","present","rest","prev","slice","length","pop","Error"],"mappings":"AAAA;;AAEA,MAAMA,MAAM,GAAGC,GAAG,IAAIA,GAAG,CAACC,MAAJ,CAAW,CAACC,CAAD,EAAIC,CAAJ,KAAUH,GAAG,CAACI,WAAJ,CAAgBF,CAAhB,MAAuBC,CAA5C,CAAtB;;AACA,MAAME,OAAO,GAAGL,GAAG,IAAID,MAAM,CAACC,GAAD,CAAN,CAAYC,MAAZ,CAAmBK,OAAnB,CAAvB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,CAACC,MAAD,EAASC,IAAI,GAAG,EAAhB,EAAoBC,KAAK,GAAG,EAA5B,KAAmC;AAClD,MAAI;AAAEC,IAAAA,IAAI,GAAG,EAAT;AAAaC,IAAAA,OAAO,GAAG;AAAvB,MAA8BH,IAAlC;AACA,MAAII,IAAJ,EAAUC,IAAV;;AAEA,UAAQN,MAAR;AACE,SAAK,MAAL;AACA,SAAK,MAAL;AACEK,MAAAA,IAAI,GAAGF,IAAI,CAACI,KAAL,CAAW,CAAX,EAAcJ,IAAI,CAACK,MAAL,GAAc,CAA5B,CAAP;AACAF,MAAAA,IAAI,GAAGH,IAAI,CAACA,IAAI,CAACK,MAAL,GAAc,CAAf,CAAJ,IAAyB,EAAhC;AACA,aAAO;AACLL,QAAAA,IAAI,EAAEP,OAAO,CAAC,CAACM,KAAD,EAAQ,GAAGG,IAAX,CAAD,CADR;AAELD,QAAAA,OAAO,EAAEE;AAFJ,OAAP;;AAKF,SAAK,MAAL;AACA,SAAK,MAAL;AACED,MAAAA,IAAI,GAAGF,IAAI,CAACI,KAAL,CAAW,CAAX,CAAP;AACAD,MAAAA,IAAI,GAAGH,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAlB;AACA,aAAO;AACLA,QAAAA,IAAI,EAAEP,OAAO,CAAC,CAAC,GAAGS,IAAJ,EAAUH,KAAV,CAAD,CADR;AAELE,QAAAA,OAAO,EAAEE;AAFJ,OAAP;;AAKF,SAAK,MAAL;AACE,aAAO;AACLH,QAAAA,IAAI,EAAEP,OAAO,CAAC,CAAC,GAAGO,IAAJ,EAAUD,KAAV,CAAD,CADR;AAELE,QAAAA,OAAO,EAAE;AAFJ,OAAP;;AAKF,SAAK,QAAL;AACEE,MAAAA,IAAI,GAAGV,OAAO,CAACO,IAAI,CAACX,MAAL,CAAYC,CAAC,IAAIA,CAAC,KAAKS,KAAvB,CAAD,CAAd;AACAE,MAAAA,OAAO,GAAG,EAAV;;AAEA,UAAIE,IAAI,CAACE,MAAT,EAAiB;AACfJ,QAAAA,OAAO,GAAGE,IAAI,CAACG,GAAL,EAAV;AACD;;AAED,aAAO;AACLN,QAAAA,IAAI,EAAEG,IADD;AAELF,QAAAA;AAFK,OAAP;;AAKF;AAAS;AACP,cAAM,IAAIM,KAAJ,CAAW,oBAAmBV,MAAO,GAArC,CAAN;AACD;AAxCH;AA0CD,CA9CD","sourcesContent":["'use strict';\n\nconst unique = arr => arr.filter((v, i) => arr.lastIndexOf(v) === i);\nconst compact = arr => unique(arr).filter(Boolean);\n\nmodule.exports = (action, data = {}, value = '') => {\n  let { past = [], present = '' } = data;\n  let rest, prev;\n\n  switch (action) {\n    case 'prev':\n    case 'undo':\n      rest = past.slice(0, past.length - 1);\n      prev = past[past.length - 1] || '';\n      return {\n        past: compact([value, ...rest]),\n        present: prev\n      };\n\n    case 'next':\n    case 'redo':\n      rest = past.slice(1);\n      prev = past[0] || '';\n      return {\n        past: compact([...rest, value]),\n        present: prev\n      };\n\n    case 'save':\n      return {\n        past: compact([...past, value]),\n        present: ''\n      };\n\n    case 'remove':\n      prev = compact(past.filter(v => v !== value));\n      present = '';\n\n      if (prev.length) {\n        present = prev.pop();\n      }\n\n      return {\n        past: prev,\n        present\n      };\n\n    default: {\n      throw new Error(`Invalid action: \"${action}\"`);\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"script"}