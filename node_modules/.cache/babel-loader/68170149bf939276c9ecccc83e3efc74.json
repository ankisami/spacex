{"ast":null,"code":"var charmer = require('charm');\n\nvar Bar = require('./lib/bar');\n\nvar exports = module.exports = function (c) {\n  if (c instanceof charmer.Charm) {\n    var charm = c;\n  } else {\n    var charm = charmer.apply(null, arguments);\n    charm.on('^C', function () {\n      charm.destroy();\n    });\n  }\n\n  var multi = function (x, y, params) {\n    if (typeof x === 'object') {\n      params = x;\n      x = params.x;\n      y = params.y;\n    }\n\n    if (!params) params = {};\n    if (x === undefined) x = '+0';\n    if (y === undefined) y = '+0';\n    var bar = new Bar(charm, x, y, params);\n    multi.bars.push(bar);\n    bar.offset = multi.offset;\n    multi.on('offset', function (o) {\n      bar.offset = o;\n    });\n    return bar;\n  };\n\n  multi.bars = [];\n\n  multi.rel = function (x, y, params) {\n    return multi(x, '-' + y, params);\n  };\n\n  multi.drop = function (params, cb) {\n    if (!cb) {\n      cb = params;\n      params = {};\n    }\n\n    charm.position(function (x, y) {\n      var bar = new Bar(charm, x, y, params);\n      multi.bars.push(bar);\n      multi.on('offset', function (o) {\n        bar.offset = o;\n      });\n      cb(bar);\n    });\n  };\n\n  multi.charm = charm;\n  charm.setMaxListeners(0);\n  multi.destroy = charm.destroy.bind(charm);\n  multi.on = charm.on.bind(charm);\n  multi.emit = charm.emit.bind(charm);\n  multi.removeListener = charm.removeListener.bind(charm);\n  multi.write = charm.write.bind(charm);\n\n  (function () {\n    var offset = 0;\n    Object.defineProperty(multi, 'offset', {\n      set: function (o) {\n        offset = o;\n        multi.emit('offset', o);\n      },\n      get: function () {\n        return offset;\n      }\n    });\n  })();\n\n  return multi;\n};","map":{"version":3,"sources":["/Users/samianki/node_modules/pm2-multimeter/index.js"],"names":["charmer","require","Bar","exports","module","c","Charm","charm","apply","arguments","on","destroy","multi","x","y","params","undefined","bar","bars","push","offset","o","rel","drop","cb","position","setMaxListeners","bind","emit","removeListener","write","Object","defineProperty","set","get"],"mappings":"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","sourcesContent":["var charmer = require('charm');\nvar Bar = require('./lib/bar');\n\nvar exports = module.exports = function (c) {\n    if (c instanceof charmer.Charm) {\n        var charm = c;\n    }\n    else {\n        var charm = charmer.apply(null, arguments);\n        charm.on('^C', function () {\n            charm.destroy();\n        });\n    }\n\n    var multi = function (x, y, params) {\n        if (typeof x === 'object') {\n            params = x;\n            x = params.x;\n            y = params.y;\n        }\n        if (!params) params = {};\n\n        if (x === undefined) x = '+0';\n        if (y === undefined) y = '+0';\n\n        var bar = new Bar(charm, x, y, params);\n        multi.bars.push(bar);\n        bar.offset = multi.offset;\n        multi.on('offset', function (o) {\n            bar.offset = o;\n        });\n        return bar;\n    };\n    multi.bars = [];\n\n    multi.rel = function (x, y, params) {\n        return multi(x, '-' + y, params);\n    };\n\n    multi.drop = function (params, cb) {\n        if (!cb) { cb = params; params = {} }\n\n        charm.position(function (x, y) {\n            var bar = new Bar(charm, x, y, params);\n            multi.bars.push(bar);\n            multi.on('offset', function (o) {\n                bar.offset = o;\n            });\n            cb(bar);\n        });\n    };\n\n                multi.charm = charm;\n                charm.setMaxListeners(0);\n    multi.destroy = charm.destroy.bind(charm);\n\n    multi.on = charm.on.bind(charm);\n    multi.emit = charm.emit.bind(charm);\n    multi.removeListener = charm.removeListener.bind(charm);\n    multi.write = charm.write.bind(charm);\n\n    (function () {\n        var offset = 0;\n        Object.defineProperty(multi, 'offset', {\n            set : function (o) {\n                offset = o;\n                multi.emit('offset', o);\n            },\n            get : function () {\n                return offset;\n            }\n        });\n    })();\n\n    return multi;\n};\n"]},"metadata":{},"sourceType":"script"}