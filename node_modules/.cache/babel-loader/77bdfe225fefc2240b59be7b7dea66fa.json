{"ast":null,"code":"const chalk = require('chalk');\n\nconst Helpers = {};\n/**\n * Converts Byte to Human readable size\n * @method bytesToSize\n * @param {} bytes\n * @param {} precision\n * @return\n */\n\nHelpers.bytesToSize = function (bytes, precision) {\n  var kilobyte = 1024;\n  var megabyte = kilobyte * 1024;\n  var gigabyte = megabyte * 1024;\n  var terabyte = gigabyte * 1024;\n\n  if (bytes >= 0 && bytes < kilobyte) {\n    return bytes + 'b ';\n  } else if (bytes >= kilobyte && bytes < megabyte) {\n    return (bytes / kilobyte).toFixed(precision) + 'kb ';\n  } else if (bytes >= megabyte && bytes < gigabyte) {\n    return (bytes / megabyte).toFixed(precision) + 'mb ';\n  } else if (bytes >= gigabyte && bytes < terabyte) {\n    return (bytes / gigabyte).toFixed(precision) + 'gb ';\n  } else if (bytes >= terabyte) {\n    return (bytes / terabyte).toFixed(precision) + 'tb ';\n  } else {\n    return bytes + 'b ';\n  }\n};\n/**\n * Color Process state\n * @method colorStatus\n * @param {} status\n * @return\n */\n\n\nHelpers.colorStatus = function (status) {\n  switch (status) {\n    case 'online':\n      return chalk.green.bold('online');\n      break;\n\n    case 'running':\n      return chalk.green.bold('online');\n      break;\n\n    case 'restarting':\n      return chalk.yellow.bold('restart');\n      break;\n\n    case 'created':\n      return chalk.yellow.bold('created');\n      break;\n\n    case 'launching':\n      return chalk.blue.bold('launching');\n      break;\n\n    default:\n      return chalk.red.bold(status);\n  }\n};\n/**\n * Safe Push\n */\n\n\nHelpers.safe_push = function () {\n  var argv = arguments;\n  var table = argv[0];\n\n  for (var i = 1; i < argv.length; ++i) {\n    var elem = argv[i];\n\n    if (elem[Object.keys(elem)[0]] === undefined || elem[Object.keys(elem)[0]] === null) {\n      elem[Object.keys(elem)[0]] = 'N/A';\n    } else if (Array.isArray(elem[Object.keys(elem)[0]])) {\n      elem[Object.keys(elem)[0]].forEach(function (curr, j) {\n        if (curr === undefined || curr === null) elem[Object.keys(elem)[0]][j] = 'N/A';\n      });\n    }\n\n    table.push(elem);\n  }\n};\n/**\n * Description\n * @method timeSince\n * @param {} date\n * @return BinaryExpression\n */\n\n\nHelpers.timeSince = function (date) {\n  var seconds = Math.floor((new Date() - date) / 1000);\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + 'Y';\n  }\n\n  interval = Math.floor(seconds / 2592000);\n\n  if (interval > 1) {\n    return interval + 'M';\n  }\n\n  interval = Math.floor(seconds / 86400);\n\n  if (interval > 1) {\n    return interval + 'D';\n  }\n\n  interval = Math.floor(seconds / 3600);\n\n  if (interval > 1) {\n    return interval + 'h';\n  }\n\n  interval = Math.floor(seconds / 60);\n\n  if (interval > 1) {\n    return interval + 'm';\n  }\n\n  return Math.floor(seconds) + 's';\n};\n/**\n * Colorize Metrics\n *\n * @param {Number} value current value\n * @param {Number} warn value threshold\n * @param {Number} alert value threshold\n * @param {String} prefix value prefix\n * @return {String} value\n */\n\n\nHelpers.colorizedMetric = function (value, warn, alert, prefix) {\n  var inverted = false;\n  if (alert < warn) inverted = true;\n  if (!prefix) prefix = '';\n  if (isNaN(value) === true) return 'N/A';\n  if (value == 0) return 0 + prefix;\n\n  if (inverted == true) {\n    if (value > warn) return chalk.green(value + prefix);\n    if (value <= warn && value >= alert) return chalk.bold.yellow(value + prefix);\n    return chalk.bold.red(value + prefix);\n  }\n\n  if (value < warn) return chalk.green(value + prefix);\n  if (value >= warn && value <= alert) return chalk.bold.yellow(value + prefix);\n  return chalk.bold.red(value + prefix);\n};\n/**\n * Get nested property\n *\n * @param {String} propertyName\n * @param {Object} obj\n * @returns {String} property value\n */\n\n\nHelpers.getNestedProperty = function (propertyName, obj) {\n  var parts = propertyName.split('.'),\n      length = parts.length,\n      property = obj || {};\n\n  for (var i = 0; i < length; i++) {\n    property = property[parts[i]];\n  }\n\n  return property;\n};\n\nHelpers.openEditor = function (file, opts, cb) {\n  var spawn = require('child_process').spawn;\n\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  if (!opts) opts = {};\n  var ed = /^win/.test(process.platform) ? 'notepad' : 'vim';\n  var editor = opts.editor || process.env.VISUAL || process.env.EDITOR || ed;\n  var args = editor.split(/\\s+/);\n  var bin = args.shift();\n  var ps = spawn(bin, args.concat([file]), {\n    stdio: 'inherit'\n  });\n  ps.on('exit', function (code, sig) {\n    if (typeof cb === 'function') cb(code, sig);\n  });\n};\n\nHelpers.dispKeys = function (kv, target_module) {\n  Object.keys(kv).forEach(function (key) {\n    if (target_module != null && target_module != key) return false;\n\n    if (typeof kv[key] == 'object') {\n      var obj = {};\n      console.log(chalk.bold('Module: ') + chalk.bold.blue(key));\n      Object.keys(kv[key]).forEach(function (sub_key) {\n        console.log(`$ pm2 set ${key}:${sub_key} ${kv[key][sub_key]}`);\n      });\n    }\n  });\n};\n\nmodule.exports = Helpers;","map":{"version":3,"sources":["/Users/samianki/node_modules/pm2/lib/API/UX/helpers.js"],"names":["chalk","require","Helpers","bytesToSize","bytes","precision","kilobyte","megabyte","gigabyte","terabyte","toFixed","colorStatus","status","green","bold","yellow","blue","red","safe_push","argv","arguments","table","i","length","elem","Object","keys","undefined","Array","isArray","forEach","curr","j","push","timeSince","date","seconds","Math","floor","Date","interval","colorizedMetric","value","warn","alert","prefix","inverted","isNaN","getNestedProperty","propertyName","obj","parts","split","property","openEditor","file","opts","cb","spawn","ed","test","process","platform","editor","env","VISUAL","EDITOR","args","bin","shift","ps","concat","stdio","on","code","sig","dispKeys","kv","target_module","key","console","log","sub_key","module","exports"],"mappings":"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","sourcesContent":["const chalk = require('chalk')\nconst Helpers = {}\n\n/**\n * Converts Byte to Human readable size\n * @method bytesToSize\n * @param {} bytes\n * @param {} precision\n * @return\n */\nHelpers.bytesToSize = function(bytes, precision) {\n  var kilobyte = 1024\n  var megabyte = kilobyte * 1024\n  var gigabyte = megabyte * 1024\n  var terabyte = gigabyte * 1024\n\n  if ((bytes >= 0) && (bytes < kilobyte)) {\n    return bytes + 'b '\n  } else if ((bytes >= kilobyte) && (bytes < megabyte)) {\n    return (bytes / kilobyte).toFixed(precision) + 'kb '\n  } else if ((bytes >= megabyte) && (bytes < gigabyte)) {\n    return (bytes / megabyte).toFixed(precision) + 'mb '\n  } else if ((bytes >= gigabyte) && (bytes < terabyte)) {\n    return (bytes / gigabyte).toFixed(precision) + 'gb '\n  } else if (bytes >= terabyte) {\n    return (bytes / terabyte).toFixed(precision) + 'tb '\n  } else {\n    return bytes + 'b '\n  }\n}\n\n\n/**\n * Color Process state\n * @method colorStatus\n * @param {} status\n * @return\n */\nHelpers.colorStatus = function(status) {\n  switch (status) {\n\n  case 'online':\n    return chalk.green.bold('online')\n    break\n  case 'running':\n    return chalk.green.bold('online')\n    break\n  case 'restarting':\n    return chalk.yellow.bold('restart')\n    break\n  case 'created':\n    return chalk.yellow.bold('created')\n    break\n  case 'launching':\n    return chalk.blue.bold('launching')\n    break\n  default:\n    return chalk.red.bold(status)\n  }\n}\n\n/**\n * Safe Push\n */\nHelpers.safe_push = function() {\n  var argv = arguments\n  var table = argv[0]\n\n  for (var i = 1; i < argv.length; ++i) {\n    var elem = argv[i]\n    if (elem[Object.keys(elem)[0]] === undefined\n        || elem[Object.keys(elem)[0]] === null) {\n      elem[Object.keys(elem)[0]] = 'N/A'\n    }\n    else if (Array.isArray(elem[Object.keys(elem)[0]])) {\n      elem[Object.keys(elem)[0]].forEach(function(curr, j) {\n        if (curr === undefined || curr === null)\n          elem[Object.keys(elem)[0]][j] = 'N/A'\n      })\n    }\n    table.push(elem)\n  }\n}\n\n/**\n * Description\n * @method timeSince\n * @param {} date\n * @return BinaryExpression\n */\nHelpers.timeSince = function(date) {\n  var seconds = Math.floor((new Date() - date) / 1000)\n\n  var interval = Math.floor(seconds / 31536000)\n\n  if (interval > 1) {\n    return interval + 'Y'\n  }\n  interval = Math.floor(seconds / 2592000)\n  if (interval > 1) {\n    return interval + 'M'\n  }\n  interval = Math.floor(seconds / 86400)\n  if (interval > 1) {\n    return interval + 'D'\n  }\n  interval = Math.floor(seconds / 3600)\n  if (interval > 1) {\n    return interval + 'h'\n  }\n  interval = Math.floor(seconds / 60)\n  if (interval > 1) {\n    return interval + 'm'\n  }\n  return Math.floor(seconds) + 's'\n}\n\n/**\n * Colorize Metrics\n *\n * @param {Number} value current value\n * @param {Number} warn value threshold\n * @param {Number} alert value threshold\n * @param {String} prefix value prefix\n * @return {String} value\n */\nHelpers.colorizedMetric = function(value, warn, alert, prefix) {\n  var inverted = false\n  if (alert < warn)\n    inverted = true\n\n  if (!prefix) prefix = ''\n  if (isNaN(value) === true)\n    return 'N/A'\n  if (value == 0)\n    return 0 + prefix\n  if (inverted == true) {\n    if (value > warn)\n      return chalk.green(value + prefix)\n    if (value <= warn && value >= alert)\n      return chalk.bold.yellow(value + prefix)\n    return chalk.bold.red(value + prefix)\n  }\n  if (value < warn)\n    return chalk.green(value + prefix)\n  if (value >= warn && value <= alert)\n    return chalk.bold.yellow(value + prefix)\n  return chalk.bold.red(value + prefix)\n}\n\n/**\n * Get nested property\n *\n * @param {String} propertyName\n * @param {Object} obj\n * @returns {String} property value\n */\nHelpers.getNestedProperty = function(propertyName, obj) {\n  var parts = propertyName.split('.'),\n      length = parts.length,\n      property = obj || {}\n\n  for (var i = 0; i < length; i++ ) {\n    property = property[parts[i]]\n  }\n\n  return property\n}\n\nHelpers.openEditor = function (file, opts, cb) {\n  var spawn = require('child_process').spawn\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  if (!opts) opts = {}\n\n  var ed = /^win/.test(process.platform) ? 'notepad' : 'vim'\n  var editor = opts.editor || process.env.VISUAL || process.env.EDITOR || ed\n  var args = editor.split(/\\s+/)\n  var bin = args.shift()\n\n  var ps = spawn(bin, args.concat([ file ]), { stdio: 'inherit' })\n\n  ps.on('exit', function (code, sig) {\n    if (typeof cb === 'function') cb(code, sig)\n  })\n}\n\n\nHelpers.dispKeys = function(kv, target_module) {\n  Object.keys(kv).forEach(function(key) {\n\n    if (target_module != null && target_module != key)\n      return false\n\n    if (typeof(kv[key]) == 'object') {\n      var obj = {}\n\n      console.log(chalk.bold('Module: ') + chalk.bold.blue(key))\n      Object.keys(kv[key]).forEach(function(sub_key) {\n        console.log(`$ pm2 set ${key}:${sub_key} ${kv[key][sub_key]}`)\n      })\n    }\n  })\n}\n\nmodule.exports = Helpers\n"]},"metadata":{},"sourceType":"script"}