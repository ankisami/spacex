{"ast":null,"code":"/**\n * loading.js - loading element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\nvar Node = require('./node');\n\nvar Box = require('./box');\n\nvar Text = require('./text');\n/**\n * Loading\n */\n\n\nfunction Loading(options) {\n  if (!(this instanceof Node)) {\n    return new Loading(options);\n  }\n\n  options = options || {};\n  Box.call(this, options);\n  this._.icon = new Text({\n    parent: this,\n    align: 'center',\n    top: 2,\n    left: 1,\n    right: 1,\n    height: 1,\n    content: '|'\n  });\n}\n\nLoading.prototype.__proto__ = Box.prototype;\nLoading.prototype.type = 'loading';\n\nLoading.prototype.load = function (text) {\n  var self = this; // XXX Keep above:\n  // var parent = this.parent;\n  // this.detach();\n  // parent.append(this);\n\n  this.show();\n  this.setContent(text);\n\n  if (this._.timer) {\n    this.stop();\n  }\n\n  this.screen.lockKeys = true;\n  this._.timer = setInterval(function () {\n    if (self._.icon.content === '|') {\n      self._.icon.setContent('/');\n    } else if (self._.icon.content === '/') {\n      self._.icon.setContent('-');\n    } else if (self._.icon.content === '-') {\n      self._.icon.setContent('\\\\');\n    } else if (self._.icon.content === '\\\\') {\n      self._.icon.setContent('|');\n    }\n\n    self.screen.render();\n  }, 200);\n};\n\nLoading.prototype.stop = function () {\n  this.screen.lockKeys = false;\n  this.hide();\n\n  if (this._.timer) {\n    clearInterval(this._.timer);\n    delete this._.timer;\n  }\n\n  this.screen.render();\n};\n/**\n * Expose\n */\n\n\nmodule.exports = Loading;","map":{"version":3,"sources":["/Users/samianki/node_modules/blessed/lib/widgets/loading.js"],"names":["Node","require","Box","Text","Loading","options","call","_","icon","parent","align","top","left","right","height","content","prototype","__proto__","type","load","text","self","show","setContent","timer","stop","screen","lockKeys","setInterval","render","hide","clearInterval","module","exports"],"mappings":"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","sourcesContent":["/**\n * loading.js - loading element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\nvar Text = require('./text');\n\n/**\n * Loading\n */\n\nfunction Loading(options) {\n  if (!(this instanceof Node)) {\n    return new Loading(options);\n  }\n\n  options = options || {};\n\n  Box.call(this, options);\n\n  this._.icon = new Text({\n    parent: this,\n    align: 'center',\n    top: 2,\n    left: 1,\n    right: 1,\n    height: 1,\n    content: '|'\n  });\n}\n\nLoading.prototype.__proto__ = Box.prototype;\n\nLoading.prototype.type = 'loading';\n\nLoading.prototype.load = function(text) {\n  var self = this;\n\n  // XXX Keep above:\n  // var parent = this.parent;\n  // this.detach();\n  // parent.append(this);\n\n  this.show();\n  this.setContent(text);\n\n  if (this._.timer) {\n    this.stop();\n  }\n\n  this.screen.lockKeys = true;\n\n  this._.timer = setInterval(function() {\n    if (self._.icon.content === '|') {\n      self._.icon.setContent('/');\n    } else if (self._.icon.content === '/') {\n      self._.icon.setContent('-');\n    } else if (self._.icon.content === '-') {\n      self._.icon.setContent('\\\\');\n    } else if (self._.icon.content === '\\\\') {\n      self._.icon.setContent('|');\n    }\n    self.screen.render();\n  }, 200);\n};\n\nLoading.prototype.stop = function() {\n  this.screen.lockKeys = false;\n  this.hide();\n  if (this._.timer) {\n    clearInterval(this._.timer);\n    delete this._.timer;\n  }\n  this.screen.render();\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Loading;\n"]},"metadata":{},"sourceType":"script"}