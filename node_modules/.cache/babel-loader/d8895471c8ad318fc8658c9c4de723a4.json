{"ast":null,"code":"/**\n * listbar.js - listbar element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\nvar helpers = require('../helpers');\n\nvar Node = require('./node');\n\nvar Box = require('./box');\n/**\n * Listbar / HorizontalList\n */\n\n\nfunction Listbar(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Listbar(options);\n  }\n\n  options = options || {};\n  this.items = [];\n  this.ritems = [];\n  this.commands = [];\n  this.leftBase = 0;\n  this.leftOffset = 0;\n  this.mouse = options.mouse || false;\n  Box.call(this, options);\n\n  if (!this.style.selected) {\n    this.style.selected = {};\n  }\n\n  if (!this.style.item) {\n    this.style.item = {};\n  }\n\n  if (options.commands || options.items) {\n    this.setItems(options.commands || options.items);\n  }\n\n  if (options.keys) {\n    this.on('keypress', function (ch, key) {\n      if (key.name === 'left' || options.vi && key.name === 'h' || key.shift && key.name === 'tab') {\n        self.moveLeft();\n        self.screen.render(); // Stop propagation if we're in a form.\n\n        if (key.name === 'tab') return false;\n        return;\n      }\n\n      if (key.name === 'right' || options.vi && key.name === 'l' || key.name === 'tab') {\n        self.moveRight();\n        self.screen.render(); // Stop propagation if we're in a form.\n\n        if (key.name === 'tab') return false;\n        return;\n      }\n\n      if (key.name === 'enter' || options.vi && key.name === 'k' && !key.shift) {\n        self.emit('action', self.items[self.selected], self.selected);\n        self.emit('select', self.items[self.selected], self.selected);\n        var item = self.items[self.selected];\n\n        if (item._.cmd.callback) {\n          item._.cmd.callback();\n        }\n\n        self.screen.render();\n        return;\n      }\n\n      if (key.name === 'escape' || options.vi && key.name === 'q') {\n        self.emit('action');\n        self.emit('cancel');\n        return;\n      }\n    });\n  }\n\n  if (options.autoCommandKeys) {\n    this.onScreenEvent('keypress', function (ch) {\n      if (/^[0-9]$/.test(ch)) {\n        var i = +ch - 1;\n        if (!~i) i = 9;\n        return self.selectTab(i);\n      }\n    });\n  }\n\n  this.on('focus', function () {\n    self.select(self.selected);\n  });\n}\n\nListbar.prototype.__proto__ = Box.prototype;\nListbar.prototype.type = 'listbar';\n\nListbar.prototype.__defineGetter__('selected', function () {\n  return this.leftBase + this.leftOffset;\n});\n\nListbar.prototype.setItems = function (commands) {\n  var self = this;\n\n  if (!Array.isArray(commands)) {\n    commands = Object.keys(commands).reduce(function (obj, key, i) {\n      var cmd = commands[key],\n          cb;\n\n      if (typeof cmd === 'function') {\n        cb = cmd;\n        cmd = {\n          callback: cb\n        };\n      }\n\n      if (cmd.text == null) cmd.text = key;\n      if (cmd.prefix == null) cmd.prefix = ++i + '';\n\n      if (cmd.text == null && cmd.callback) {\n        cmd.text = cmd.callback.name;\n      }\n\n      obj.push(cmd);\n      return obj;\n    }, []);\n  }\n\n  this.items.forEach(function (el) {\n    el.detach();\n  });\n  this.items = [];\n  this.ritems = [];\n  this.commands = [];\n  commands.forEach(function (cmd) {\n    self.add(cmd);\n  });\n  this.emit('set items');\n};\n\nListbar.prototype.add = Listbar.prototype.addItem = Listbar.prototype.appendItem = function (item, callback) {\n  var self = this,\n      prev = this.items[this.items.length - 1],\n      drawn,\n      cmd,\n      title,\n      len;\n\n  if (!this.parent) {\n    drawn = 0;\n  } else {\n    drawn = prev ? prev.aleft + prev.width : 0;\n\n    if (!this.screen.autoPadding) {\n      drawn += this.ileft;\n    }\n  }\n\n  if (typeof item === 'object') {\n    cmd = item;\n    if (cmd.prefix == null) cmd.prefix = this.items.length + 1 + '';\n  }\n\n  if (typeof item === 'string') {\n    cmd = {\n      prefix: this.items.length + 1 + '',\n      text: item,\n      callback: callback\n    };\n  }\n\n  if (typeof item === 'function') {\n    cmd = {\n      prefix: this.items.length + 1 + '',\n      text: item.name,\n      callback: item\n    };\n  }\n\n  if (cmd.keys && cmd.keys[0]) {\n    cmd.prefix = cmd.keys[0];\n  }\n\n  var t = helpers.generateTags(this.style.prefix || {\n    fg: 'lightblack'\n  });\n  title = (cmd.prefix != null ? t.open + cmd.prefix + t.close + ':' : '') + cmd.text;\n  len = ((cmd.prefix != null ? cmd.prefix + ':' : '') + cmd.text).length;\n  var options = {\n    screen: this.screen,\n    top: 0,\n    left: drawn + 1,\n    height: 1,\n    content: title,\n    width: len + 2,\n    align: 'center',\n    autoFocus: false,\n    tags: true,\n    mouse: true,\n    style: helpers.merge({}, this.style.item),\n    noOverflow: true\n  };\n\n  if (!this.screen.autoPadding) {\n    options.top += this.itop;\n    options.left += this.ileft;\n  }\n\n  ['bg', 'fg', 'bold', 'underline', 'blink', 'inverse', 'invisible'].forEach(function (name) {\n    options.style[name] = function () {\n      var attr = self.items[self.selected] === el ? self.style.selected[name] : self.style.item[name];\n      if (typeof attr === 'function') attr = attr(el);\n      return attr;\n    };\n  });\n  var el = new Box(options);\n  this._[cmd.text] = el;\n  cmd.element = el;\n  el._.cmd = cmd;\n  this.ritems.push(cmd.text);\n  this.items.push(el);\n  this.commands.push(cmd);\n  this.append(el);\n\n  if (cmd.callback) {\n    if (cmd.keys) {\n      this.screen.key(cmd.keys, function () {\n        self.emit('action', el, self.selected);\n        self.emit('select', el, self.selected);\n\n        if (el._.cmd.callback) {\n          el._.cmd.callback();\n        }\n\n        self.select(el);\n        self.screen.render();\n      });\n    }\n  }\n\n  if (this.items.length === 1) {\n    this.select(0);\n  } // XXX May be affected by new element.options.mouse option.\n\n\n  if (this.mouse) {\n    el.on('click', function () {\n      self.emit('action', el, self.selected);\n      self.emit('select', el, self.selected);\n\n      if (el._.cmd.callback) {\n        el._.cmd.callback();\n      }\n\n      self.select(el);\n      self.screen.render();\n    });\n  }\n\n  this.emit('add item');\n};\n\nListbar.prototype.render = function () {\n  var self = this,\n      drawn = 0;\n\n  if (!this.screen.autoPadding) {\n    drawn += this.ileft;\n  }\n\n  this.items.forEach(function (el, i) {\n    if (i < self.leftBase) {\n      el.hide();\n    } else {\n      el.rleft = drawn + 1;\n      drawn += el.width + 2;\n      el.show();\n    }\n  });\n  return this._render();\n};\n\nListbar.prototype.select = function (offset) {\n  if (typeof offset !== 'number') {\n    offset = this.items.indexOf(offset);\n  }\n\n  if (offset < 0) {\n    offset = 0;\n  } else if (offset >= this.items.length) {\n    offset = this.items.length - 1;\n  }\n\n  if (!this.parent) {\n    this.emit('select item', this.items[offset], offset);\n    return;\n  }\n\n  var lpos = this._getCoords();\n\n  if (!lpos) return;\n  var self = this,\n      width = lpos.xl - lpos.xi - this.iwidth,\n      drawn = 0,\n      visible = 0,\n      el;\n  el = this.items[offset];\n  if (!el) return;\n  this.items.forEach(function (el, i) {\n    if (i < self.leftBase) return;\n\n    var lpos = el._getCoords();\n\n    if (!lpos) return;\n    if (lpos.xl - lpos.xi <= 0) return;\n    drawn += lpos.xl - lpos.xi + 2;\n    if (drawn <= width) visible++;\n  });\n  var diff = offset - (this.leftBase + this.leftOffset);\n\n  if (offset > this.leftBase + this.leftOffset) {\n    if (offset > this.leftBase + visible - 1) {\n      this.leftOffset = 0;\n      this.leftBase = offset;\n    } else {\n      this.leftOffset += diff;\n    }\n  } else if (offset < this.leftBase + this.leftOffset) {\n    diff = -diff;\n\n    if (offset < this.leftBase) {\n      this.leftOffset = 0;\n      this.leftBase = offset;\n    } else {\n      this.leftOffset -= diff;\n    }\n  } // XXX Move `action` and `select` events here.\n\n\n  this.emit('select item', el, offset);\n};\n\nListbar.prototype.removeItem = function (child) {\n  var i = typeof child !== 'number' ? this.items.indexOf(child) : child;\n\n  if (~i && this.items[i]) {\n    child = this.items.splice(i, 1)[0];\n    this.ritems.splice(i, 1);\n    this.commands.splice(i, 1);\n    this.remove(child);\n\n    if (i === this.selected) {\n      this.select(i - 1);\n    }\n  }\n\n  this.emit('remove item');\n};\n\nListbar.prototype.move = function (offset) {\n  this.select(this.selected + offset);\n};\n\nListbar.prototype.moveLeft = function (offset) {\n  this.move(-(offset || 1));\n};\n\nListbar.prototype.moveRight = function (offset) {\n  this.move(offset || 1);\n};\n\nListbar.prototype.selectTab = function (index) {\n  var item = this.items[index];\n\n  if (item) {\n    if (item._.cmd.callback) {\n      item._.cmd.callback();\n    }\n\n    this.select(index);\n    this.screen.render();\n  }\n\n  this.emit('select tab', item, index);\n};\n/**\n * Expose\n */\n\n\nmodule.exports = Listbar;","map":{"version":3,"sources":["/Users/samianki/node_modules/blessed/lib/widgets/listbar.js"],"names":["helpers","require","Node","Box","Listbar","options","self","items","ritems","commands","leftBase","leftOffset","mouse","call","style","selected","item","setItems","keys","on","ch","key","name","vi","shift","moveLeft","screen","render","moveRight","emit","_","cmd","callback","autoCommandKeys","onScreenEvent","test","i","selectTab","select","prototype","__proto__","type","__defineGetter__","Array","isArray","Object","reduce","obj","cb","text","prefix","push","forEach","el","detach","add","addItem","appendItem","prev","length","drawn","title","len","parent","aleft","width","autoPadding","ileft","t","generateTags","fg","open","close","top","left","height","content","align","autoFocus","tags","merge","noOverflow","itop","attr","element","append","hide","rleft","show","_render","offset","indexOf","lpos","_getCoords","xl","xi","iwidth","visible","diff","removeItem","child","splice","remove","move","index","module","exports"],"mappings":"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","sourcesContent":["/**\n * listbar.js - listbar element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar helpers = require('../helpers');\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * Listbar / HorizontalList\n */\n\nfunction Listbar(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Listbar(options);\n  }\n\n  options = options || {};\n\n  this.items = [];\n  this.ritems = [];\n  this.commands = [];\n\n  this.leftBase = 0;\n  this.leftOffset = 0;\n\n  this.mouse = options.mouse || false;\n\n  Box.call(this, options);\n\n  if (!this.style.selected) {\n    this.style.selected = {};\n  }\n\n  if (!this.style.item) {\n    this.style.item = {};\n  }\n\n  if (options.commands || options.items) {\n    this.setItems(options.commands || options.items);\n  }\n\n  if (options.keys) {\n    this.on('keypress', function(ch, key) {\n      if (key.name === 'left'\n          || (options.vi && key.name === 'h')\n          || (key.shift && key.name === 'tab')) {\n        self.moveLeft();\n        self.screen.render();\n        // Stop propagation if we're in a form.\n        if (key.name === 'tab') return false;\n        return;\n      }\n      if (key.name === 'right'\n          || (options.vi && key.name === 'l')\n          || key.name === 'tab') {\n        self.moveRight();\n        self.screen.render();\n        // Stop propagation if we're in a form.\n        if (key.name === 'tab') return false;\n        return;\n      }\n      if (key.name === 'enter'\n          || (options.vi && key.name === 'k' && !key.shift)) {\n        self.emit('action', self.items[self.selected], self.selected);\n        self.emit('select', self.items[self.selected], self.selected);\n        var item = self.items[self.selected];\n        if (item._.cmd.callback) {\n          item._.cmd.callback();\n        }\n        self.screen.render();\n        return;\n      }\n      if (key.name === 'escape' || (options.vi && key.name === 'q')) {\n        self.emit('action');\n        self.emit('cancel');\n        return;\n      }\n    });\n  }\n\n  if (options.autoCommandKeys) {\n    this.onScreenEvent('keypress', function(ch) {\n      if (/^[0-9]$/.test(ch)) {\n        var i = +ch - 1;\n        if (!~i) i = 9;\n        return self.selectTab(i);\n      }\n    });\n  }\n\n  this.on('focus', function() {\n    self.select(self.selected);\n  });\n}\n\nListbar.prototype.__proto__ = Box.prototype;\n\nListbar.prototype.type = 'listbar';\n\nListbar.prototype.__defineGetter__('selected', function() {\n  return this.leftBase + this.leftOffset;\n});\n\nListbar.prototype.setItems = function(commands) {\n  var self = this;\n\n  if (!Array.isArray(commands)) {\n    commands = Object.keys(commands).reduce(function(obj, key, i) {\n      var cmd = commands[key]\n        , cb;\n\n      if (typeof cmd === 'function') {\n        cb = cmd;\n        cmd = { callback: cb };\n      }\n\n      if (cmd.text == null) cmd.text = key;\n      if (cmd.prefix == null) cmd.prefix = ++i + '';\n\n      if (cmd.text == null && cmd.callback) {\n        cmd.text = cmd.callback.name;\n      }\n\n      obj.push(cmd);\n\n      return obj;\n    }, []);\n  }\n\n  this.items.forEach(function(el) {\n    el.detach();\n  });\n\n  this.items = [];\n  this.ritems = [];\n  this.commands = [];\n\n  commands.forEach(function(cmd) {\n    self.add(cmd);\n  });\n\n  this.emit('set items');\n};\n\nListbar.prototype.add =\nListbar.prototype.addItem =\nListbar.prototype.appendItem = function(item, callback) {\n  var self = this\n    , prev = this.items[this.items.length - 1]\n    , drawn\n    , cmd\n    , title\n    , len;\n\n  if (!this.parent) {\n    drawn = 0;\n  } else {\n    drawn = prev ? prev.aleft + prev.width : 0;\n    if (!this.screen.autoPadding) {\n      drawn += this.ileft;\n    }\n  }\n\n  if (typeof item === 'object') {\n    cmd = item;\n    if (cmd.prefix == null) cmd.prefix = (this.items.length + 1) + '';\n  }\n\n  if (typeof item === 'string') {\n    cmd = {\n      prefix: (this.items.length + 1) + '',\n      text: item,\n      callback: callback\n    };\n  }\n\n  if (typeof item === 'function') {\n    cmd = {\n      prefix: (this.items.length + 1) + '',\n      text: item.name,\n      callback: item\n    };\n  }\n\n  if (cmd.keys && cmd.keys[0]) {\n    cmd.prefix = cmd.keys[0];\n  }\n\n  var t = helpers.generateTags(this.style.prefix || { fg: 'lightblack' });\n\n  title = (cmd.prefix != null ? t.open + cmd.prefix + t.close + ':' : '') + cmd.text;\n\n  len = ((cmd.prefix != null ? cmd.prefix + ':' : '') + cmd.text).length;\n\n  var options = {\n    screen: this.screen,\n    top: 0,\n    left: drawn + 1,\n    height: 1,\n    content: title,\n    width: len + 2,\n    align: 'center',\n    autoFocus: false,\n    tags: true,\n    mouse: true,\n    style: helpers.merge({}, this.style.item),\n    noOverflow: true\n  };\n\n  if (!this.screen.autoPadding) {\n    options.top += this.itop;\n    options.left += this.ileft;\n  }\n\n  ['bg', 'fg', 'bold', 'underline',\n   'blink', 'inverse', 'invisible'].forEach(function(name) {\n    options.style[name] = function() {\n      var attr = self.items[self.selected] === el\n        ? self.style.selected[name]\n        : self.style.item[name];\n      if (typeof attr === 'function') attr = attr(el);\n      return attr;\n    };\n  });\n\n  var el = new Box(options);\n\n  this._[cmd.text] = el;\n  cmd.element = el;\n  el._.cmd = cmd;\n\n  this.ritems.push(cmd.text);\n  this.items.push(el);\n  this.commands.push(cmd);\n  this.append(el);\n\n  if (cmd.callback) {\n    if (cmd.keys) {\n      this.screen.key(cmd.keys, function() {\n        self.emit('action', el, self.selected);\n        self.emit('select', el, self.selected);\n        if (el._.cmd.callback) {\n          el._.cmd.callback();\n        }\n        self.select(el);\n        self.screen.render();\n      });\n    }\n  }\n\n  if (this.items.length === 1) {\n    this.select(0);\n  }\n\n  // XXX May be affected by new element.options.mouse option.\n  if (this.mouse) {\n    el.on('click', function() {\n      self.emit('action', el, self.selected);\n      self.emit('select', el, self.selected);\n      if (el._.cmd.callback) {\n        el._.cmd.callback();\n      }\n      self.select(el);\n      self.screen.render();\n    });\n  }\n\n  this.emit('add item');\n};\n\nListbar.prototype.render = function() {\n  var self = this\n    , drawn = 0;\n\n  if (!this.screen.autoPadding) {\n    drawn += this.ileft;\n  }\n\n  this.items.forEach(function(el, i) {\n    if (i < self.leftBase) {\n      el.hide();\n    } else {\n      el.rleft = drawn + 1;\n      drawn += el.width + 2;\n      el.show();\n    }\n  });\n\n  return this._render();\n};\n\nListbar.prototype.select = function(offset) {\n  if (typeof offset !== 'number') {\n    offset = this.items.indexOf(offset);\n  }\n\n  if (offset < 0) {\n    offset = 0;\n  } else if (offset >= this.items.length) {\n    offset = this.items.length - 1;\n  }\n\n  if (!this.parent) {\n    this.emit('select item', this.items[offset], offset);\n    return;\n  }\n\n  var lpos = this._getCoords();\n  if (!lpos) return;\n\n  var self = this\n    , width = (lpos.xl - lpos.xi) - this.iwidth\n    , drawn = 0\n    , visible = 0\n    , el;\n\n  el = this.items[offset];\n  if (!el) return;\n\n  this.items.forEach(function(el, i) {\n    if (i < self.leftBase) return;\n\n    var lpos = el._getCoords();\n    if (!lpos) return;\n\n    if (lpos.xl - lpos.xi <= 0) return;\n\n    drawn += (lpos.xl - lpos.xi) + 2;\n\n    if (drawn <= width) visible++;\n  });\n\n  var diff = offset - (this.leftBase + this.leftOffset);\n  if (offset > this.leftBase + this.leftOffset) {\n    if (offset > this.leftBase + visible - 1) {\n      this.leftOffset = 0;\n      this.leftBase = offset;\n    } else {\n      this.leftOffset += diff;\n    }\n  } else if (offset < this.leftBase + this.leftOffset) {\n    diff = -diff;\n    if (offset < this.leftBase) {\n      this.leftOffset = 0;\n      this.leftBase = offset;\n    } else {\n      this.leftOffset -= diff;\n    }\n  }\n\n  // XXX Move `action` and `select` events here.\n  this.emit('select item', el, offset);\n};\n\nListbar.prototype.removeItem = function(child) {\n  var i = typeof child !== 'number'\n    ? this.items.indexOf(child)\n    : child;\n\n  if (~i && this.items[i]) {\n    child = this.items.splice(i, 1)[0];\n    this.ritems.splice(i, 1);\n    this.commands.splice(i, 1);\n    this.remove(child);\n    if (i === this.selected) {\n      this.select(i - 1);\n    }\n  }\n\n  this.emit('remove item');\n};\n\nListbar.prototype.move = function(offset) {\n  this.select(this.selected + offset);\n};\n\nListbar.prototype.moveLeft = function(offset) {\n  this.move(-(offset || 1));\n};\n\nListbar.prototype.moveRight = function(offset) {\n  this.move(offset || 1);\n};\n\nListbar.prototype.selectTab = function(index) {\n  var item = this.items[index];\n  if (item) {\n    if (item._.cmd.callback) {\n      item._.cmd.callback();\n    }\n    this.select(index);\n    this.screen.render();\n  }\n  this.emit('select tab', item, index);\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Listbar;\n"]},"metadata":{},"sourceType":"script"}